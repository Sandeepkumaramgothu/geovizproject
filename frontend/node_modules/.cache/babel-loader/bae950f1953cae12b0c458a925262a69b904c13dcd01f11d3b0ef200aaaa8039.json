{"ast":null,"code":"var _jsxFileName = \"/Users/girishkumarpatchikoru/Desktop/projecthci/geovizproject/frontend/src/components/MapView.js\",\n  _s = $RefreshSig$();\n// src/components/MapView.js\n\nimport React, { useEffect, useState, useCallback } from 'react';\n// Conditionally import Mapbox GL JS\nlet mapboxgl;\nif (typeof window !== 'undefined') {\n  mapboxgl = require('mapbox-gl');\n  mapboxgl.accessToken = MAPBOX_TOKEN; // Ensure this contains your Mapbox token\n}\nimport Papa from 'papaparse';\nimport { Bar, Pie, Doughnut, PolarArea } from 'react-chartjs-2';\nimport { Chart as ChartJS, RadialLinearScale, CategoryScale, LinearScale, BarElement, ArcElement, Title, Tooltip, Legend } from 'chart.js';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\nimport 'react-circular-progressbar/dist/styles.css';\nimport styles from './styles'; // Ensure this file exists and is properly configured\nimport preprocessData from './preprocessData'; // Ensure this file exists and is properly configured\nimport { MAPBOX_TOKEN } from './constants'; // Ensure this file contains your Mapbox token\nimport blueMarkerIcon from '../assets/images/custom-marker-blue.png'; // Ensure these assets exist\nimport redMarkerIcon from '../assets/images/custom-marker-red.png';\nimport yellowMarkerIcon from '../assets/images/custom-marker-yellow.png'; // Add this icon for comparison markers\nimport './marker.css'; // Ensure this CSS file exists for marker styling\n\n// Register Chart.js components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(RadialLinearScale, CategoryScale, LinearScale, BarElement, ArcElement, Title, Tooltip, Legend, ChartDataLabels);\n\n// Custom Loading Bar Component\nconst LoadingBar = ({\n  progress\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    width: '100%',\n    backgroundColor: '#ddd',\n    height: '10px',\n    borderRadius: '5px'\n  },\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: `${progress}%`,\n      height: '100%',\n      backgroundColor: '#28a745',\n      borderRadius: '5px',\n      transition: 'width 0.3s ease'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 49,\n  columnNumber: 3\n}, this);\n_c = LoadingBar;\nconst MapView = () => {\n  _s();\n  // State Variables\n  const [map, setMap] = useState(null);\n  const [geoData, setGeoData] = useState([]);\n  const [numericHeaders, setNumericHeaders] = useState([]);\n  const [stringHeaders, setStringHeaders] = useState([]);\n  const [selectedLocation, setSelectedLocation] = useState(null);\n  const [chartType, setChartType] = useState('Bar');\n  const [chartData, setChartData] = useState(null);\n  const [totalRows, setTotalRows] = useState(0);\n  const [totalColumns, setTotalColumns] = useState(0);\n  const [markers, setMarkers] = useState([]);\n  const [progress, setProgress] = useState({\n    upload: 0,\n    preprocess: 0,\n    geocode: 0\n  });\n  const [progressMessages, setProgressMessages] = useState({\n    upload: '',\n    preprocess: '',\n    geocode: ''\n  });\n  const [stateList, setStateList] = useState([]);\n  const [selectedState1, setSelectedState1] = useState('');\n  const [selectedState2, setSelectedState2] = useState('');\n  const [markersAdded, setMarkersAdded] = useState(false);\n  const [compareMarkersEnabled, setCompareMarkersEnabled] = useState(false);\n  const [stateCoordinates, setStateCoordinates] = useState({});\n  const [dataHasLocation, setDataHasLocation] = useState(false);\n\n  // Global Min and Max for Normalization\n  const [globalMinMax, setGlobalMinMax] = useState({});\n\n  // Initialize Map only if location data is present\n  useEffect(() => {\n    if (dataHasLocation && typeof window !== 'undefined' && mapboxgl) {\n      const initializeMap = new mapboxgl.Map({\n        container: 'map',\n        style: 'mapbox://styles/mapbox/streets-v11',\n        center: [-98.5795, 39.8283],\n        zoom: 3\n      });\n      const nav = new mapboxgl.NavigationControl();\n      initializeMap.addControl(nav, 'top-right');\n      setMap(initializeMap);\n      return () => initializeMap.remove();\n    }\n  }, [dataHasLocation]);\n  // Generate Chart Data for Selected Location\n  const generateChartData = useCallback(locationData => {\n    if (locationData) {\n      const locationValues = numericHeaders.map(header => ({\n        label: header,\n        value: parseFloat(locationData[header]) || 0\n      }));\n      const normalizedValues = locationValues.map(item => {\n        const {\n          min,\n          max\n        } = globalMinMax[item.label] || {\n          min: 0,\n          max: 1\n        };\n        const normalizedValue = max !== min ? (item.value - min) / (max - min) * 9.5 + 0.5 : 5;\n        return {\n          label: item.label,\n          normalizedValue: isFinite(normalizedValue) ? normalizedValue : 0.5,\n          actualValue: item.value\n        };\n      });\n      setChartData({\n        labels: normalizedValues.map(item => item.label),\n        datasets: [{\n          label: locationData.state || 'Data',\n          data: normalizedValues.map(item => item.normalizedValue),\n          actualValues: normalizedValues.map(item => item.actualValue),\n          backgroundColor: ['rgba(255, 99, 132, 0.5)', 'rgba(54, 162, 235, 0.5)', 'rgba(255, 206, 86, 0.5)', 'rgba(75, 192, 192, 0.5)', 'rgba(153, 102, 255, 0.5)', 'rgba(255, 159, 64, 0.5)'],\n          borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)', 'rgba(153, 102, 255, 1)', 'rgba(255, 159, 64, 1)'],\n          borderWidth: 1\n        }]\n      });\n    }\n  }, [numericHeaders, globalMinMax]);\n\n  // Data Generation\n  useEffect(() => {\n    if (selectedLocation) {\n      generateChartData(selectedLocation);\n    } else if (!dataHasLocation && geoData.length > 0) {\n      // For datasets without location data, use the first data row for chart\n      generateChartData(geoData[0]);\n    } else {\n      setChartData(null);\n    }\n  }, [selectedLocation, dataHasLocation, geoData, generateChartData]);\n\n  // Handle File Upload\n  const handleFileUpload = event => {\n    setProgress({\n      upload: 0,\n      preprocess: 0,\n      geocode: 0\n    });\n    setProgressMessages({\n      upload: '',\n      preprocess: '',\n      geocode: ''\n    });\n    const file = event.target.files[0];\n    if (file) {\n      const fileExtension = file.name.split('.').pop().toLowerCase();\n      if (fileExtension === 'json') {\n        const reader = new FileReader();\n        reader.onload = async e => {\n          try {\n            const data = JSON.parse(e.target.result);\n            setProgress(prev => ({\n              ...prev,\n              upload: 100\n            }));\n            setProgressMessages(prev => ({\n              ...prev,\n              upload: 'Dataset uploaded successfully.'\n            }));\n            await handlePreprocess(data);\n          } catch (error) {\n            console.error('Invalid JSON format:', error);\n            alert('Error: Uploaded file is not valid JSON.');\n          }\n        };\n        reader.readAsText(file);\n      } else if (fileExtension === 'csv') {\n        Papa.parse(file, {\n          header: true,\n          skipEmptyLines: true,\n          complete: async results => {\n            setProgress(prev => ({\n              ...prev,\n              upload: 100\n            }));\n            setProgressMessages(prev => ({\n              ...prev,\n              upload: 'Dataset uploaded successfully.'\n            }));\n            await handlePreprocess(results.data);\n          },\n          error: error => {\n            console.error('CSV parsing error:', error);\n            alert('Error: Failed to parse CSV file.');\n          }\n        });\n      } else {\n        alert('Please upload a valid JSON or CSV file.');\n      }\n    }\n  };\n\n  // Handle Preprocessing\n  const handlePreprocess = useCallback(async rawData => {\n    setProgress(prev => ({\n      ...prev,\n      preprocess: 0\n    }));\n    const cleanRawData = rawData.filter(item => item !== null && item !== undefined && Object.keys(item).length > 0);\n    const processedData = await preprocessData(cleanRawData, setProgress);\n    if (!processedData || processedData.length === 0) {\n      alert('No data available after filtering.');\n      return;\n    }\n    setProgress(prev => ({\n      ...prev,\n      preprocess: 50\n    }));\n\n    // Check if data has location\n    const dataContainsLatLng = processedData.some(item => item.latitude && item.longitude);\n    setDataHasLocation(dataContainsLatLng);\n\n    // Proceed with data processing, aggregation, and setting state variables\n    // Identify numeric and string headers\n    if (processedData.length > 0) {\n      const headers = Object.keys(processedData[0]);\n      const numeric = [];\n      const strings = [];\n      headers.forEach(header => {\n        if (['latitude', 'longitude', 'GeoLocation', 'locationID', 'count', 'state'].includes(header)) return;\n        const isNumeric = processedData.every(item => {\n          const value = parseFloat(item[header]);\n          return !isNaN(value);\n        });\n        if (isNumeric) {\n          numeric.push(header);\n        } else {\n          strings.push(header);\n        }\n      });\n\n      // Calculate global min and max for each numeric field\n      const globalMinMaxCalc = {};\n      numeric.forEach(header => {\n        const values = processedData.map(item => parseFloat(item[header]));\n        globalMinMaxCalc[header] = {\n          min: Math.min(...values),\n          max: Math.max(...values)\n        };\n      });\n      setGlobalMinMax(globalMinMaxCalc);\n      setNumericHeaders(numeric);\n      setStringHeaders(strings);\n      setTotalRows(processedData.length);\n      setTotalColumns(headers.length);\n      setGeoData(processedData);\n      setProgress(prev => ({\n        ...prev,\n        preprocess: 100\n      }));\n\n      // Reset markersAdded state when new data is uploaded\n      setMarkersAdded(false);\n    } else {\n      alert('No data available after filtering.');\n    }\n  }, [setProgress]);\n\n  // Monitor Progress Updates\n  useEffect(() => {\n    if (progress.preprocess === 100) {\n      setProgressMessages(prev => ({\n        ...prev,\n        preprocess: 'Preprocessing completed.'\n      }));\n    }\n  }, [progress.preprocess]);\n\n  // Chart Options\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    scales: chartType === 'Bar' ? {\n      y: {\n        beginAtZero: true,\n        min: 0.5,\n        max: 10\n      }\n    } : {},\n    plugins: {\n      legend: {\n        position: 'top'\n      },\n      datalabels: {\n        display: true,\n        color: '#000',\n        align: 'center',\n        anchor: 'center',\n        formatter: function (value, context) {\n          const dataset = context.chart.data.datasets[context.datasetIndex];\n          if (dataset.actualValues) {\n            const actualValue = dataset.actualValues[context.dataIndex];\n            if (typeof actualValue === 'number' && isFinite(actualValue)) {\n              return actualValue.toFixed(2);\n            } else {\n              return '';\n            }\n          } else {\n            if (typeof value === 'number' && isFinite(value)) {\n              return value.toFixed(2);\n            } else {\n              return '';\n            }\n          }\n        }\n      },\n      tooltip: {\n        callbacks: {\n          label: function (context) {\n            const dataset = context.dataset;\n            const actualValue = dataset.actualValues ? dataset.actualValues[context.dataIndex] : context.parsed.y;\n            if (typeof actualValue === 'number' && isFinite(actualValue)) {\n              return `${context.label}: ${actualValue.toFixed(2)}`;\n            } else {\n              return `${context.label}: ${actualValue || ''}`;\n            }\n          }\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [dataHasLocation && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"map\",\n      style: styles.map\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.sidebar,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.combinedBox,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.progressContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.progressItem,\n            children: [/*#__PURE__*/_jsxDEV(LoadingBar, {\n              progress: progress.upload\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.progressMessage,\n              children: progressMessages.upload\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.progressItem,\n            children: [/*#__PURE__*/_jsxDEV(LoadingBar, {\n              progress: progress.preprocess\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.progressMessage,\n              children: progressMessages.preprocess\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.section,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: styles.sectionTitle,\n            children: \"Upload Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \".json, .csv\",\n            onChange: handleFileUpload,\n            style: styles.fileInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this), dataHasLocation && geoData.length > 0 && !markersAdded && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.section,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: renderMarkers,\n            style: {\n              ...styles.chartButton,\n              backgroundColor: '#17a2b8',\n              width: '100%'\n            },\n            children: \"Mark Locations on Map\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.section,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: styles.sectionTitle,\n            children: \"Dataset Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 13\n          }, this), geoData.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.datasetDetails,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Rows:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 19\n              }, this), \" \", totalRows]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Columns:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 19\n              }, this), \" \", totalColumns]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Numeric Columns:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 19\n              }, this), \" \", numericHeaders.join(', ')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"String Columns:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 19\n              }, this), \" \", stringHeaders.join(', ')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No dataset uploaded yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 11\n        }, this), dataHasLocation && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.section,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: styles.sectionTitle,\n            children: \"Compare Two Locations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.inputGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.inputLabel,\n              children: \"Location 1:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedState1,\n              onChange: e => setSelectedState1(e.target.value),\n              style: styles.selectDropdown,\n              disabled: stateList.length === 0,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Location\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 19\n              }, this), stateList.map(state => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: state,\n                children: state\n              }, state, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.inputGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.inputLabel,\n              children: \"Location 2:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedState2,\n              onChange: e => setSelectedState2(e.target.value),\n              style: styles.selectDropdown,\n              disabled: stateList.length === 0,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Location\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 19\n              }, this), stateList.map(state => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: state,\n                children: state\n              }, state, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleStateSelection,\n            disabled: !selectedState1 || !selectedState2,\n            style: {\n              ...styles.chartButton,\n              backgroundColor: selectedState1 && selectedState2 ? '#28a745' : '#6c757d'\n            },\n            children: \"Compare\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.section,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: styles.sectionTitle,\n            children: \"Select Chart Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.chartOptions,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setChartType('Bar'),\n              style: {\n                ...styles.chartButton,\n                ...(chartType === 'Bar' ? styles.chartButtonActive : {})\n              },\n              children: \"Bar Chart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setChartType('Pie'),\n              style: {\n                ...styles.chartButton,\n                ...(chartType === 'Pie' ? styles.chartButtonActive : {})\n              },\n              children: \"Pie Chart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setChartType('Doughnut'),\n              style: {\n                ...styles.chartButton,\n                ...(chartType === 'Doughnut' ? styles.chartButtonActive : {})\n              },\n              children: \"Doughnut Chart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setChartType('PolarArea'),\n              style: {\n                ...styles.chartButton,\n                ...(chartType === 'PolarArea' ? styles.chartButtonActive : {})\n              },\n              children: \"PolarArea Chart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this), chartData && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.chartContainer,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.chartWrapper,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.chartContent,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [chartType, \" Chart\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 17\n            }, this), chartType === 'Bar' && /*#__PURE__*/_jsxDEV(Bar, {\n              data: chartData,\n              options: chartOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 41\n            }, this), chartType === 'Pie' && /*#__PURE__*/_jsxDEV(Pie, {\n              data: chartData,\n              options: chartOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 41\n            }, this), chartType === 'Doughnut' && /*#__PURE__*/_jsxDEV(Doughnut, {\n              data: chartData,\n              options: chartOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 19\n            }, this), chartType === 'PolarArea' && /*#__PURE__*/_jsxDEV(PolarArea, {\n              data: chartData,\n              options: chartOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 389,\n    columnNumber: 5\n  }, this);\n};\n_s(MapView, \"CcdlSpN22xi/ej8SUw+dFLX3Ezc=\");\n_c2 = MapView;\nexport default MapView;\nvar _c, _c2;\n$RefreshReg$(_c, \"LoadingBar\");\n$RefreshReg$(_c2, \"MapView\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","mapboxgl","window","require","accessToken","MAPBOX_TOKEN","Papa","Bar","Pie","Doughnut","PolarArea","Chart","ChartJS","RadialLinearScale","CategoryScale","LinearScale","BarElement","ArcElement","Title","Tooltip","Legend","ChartDataLabels","styles","preprocessData","blueMarkerIcon","redMarkerIcon","yellowMarkerIcon","jsxDEV","_jsxDEV","register","LoadingBar","progress","style","width","backgroundColor","height","borderRadius","children","transition","fileName","_jsxFileName","lineNumber","columnNumber","_c","MapView","_s","map","setMap","geoData","setGeoData","numericHeaders","setNumericHeaders","stringHeaders","setStringHeaders","selectedLocation","setSelectedLocation","chartType","setChartType","chartData","setChartData","totalRows","setTotalRows","totalColumns","setTotalColumns","markers","setMarkers","setProgress","upload","preprocess","geocode","progressMessages","setProgressMessages","stateList","setStateList","selectedState1","setSelectedState1","selectedState2","setSelectedState2","markersAdded","setMarkersAdded","compareMarkersEnabled","setCompareMarkersEnabled","stateCoordinates","setStateCoordinates","dataHasLocation","setDataHasLocation","globalMinMax","setGlobalMinMax","initializeMap","Map","container","center","zoom","nav","NavigationControl","addControl","remove","generateChartData","locationData","locationValues","header","label","value","parseFloat","normalizedValues","item","min","max","normalizedValue","isFinite","actualValue","labels","datasets","state","data","actualValues","borderColor","borderWidth","length","handleFileUpload","event","file","target","files","fileExtension","name","split","pop","toLowerCase","reader","FileReader","onload","e","JSON","parse","result","prev","handlePreprocess","error","console","alert","readAsText","skipEmptyLines","complete","results","rawData","cleanRawData","filter","undefined","Object","keys","processedData","dataContainsLatLng","some","latitude","longitude","headers","numeric","strings","forEach","includes","isNumeric","every","isNaN","push","globalMinMaxCalc","values","Math","chartOptions","responsive","maintainAspectRatio","scales","y","beginAtZero","plugins","legend","position","datalabels","display","color","align","anchor","formatter","context","dataset","chart","datasetIndex","dataIndex","toFixed","tooltip","callbacks","parsed","id","sidebar","combinedBox","progressContainer","progressItem","progressMessage","section","sectionTitle","type","accept","onChange","fileInput","onClick","renderMarkers","chartButton","datasetDetails","join","inputGroup","inputLabel","selectDropdown","disabled","handleStateSelection","chartButtonActive","chartContainer","chartWrapper","chartContent","options","_c2","$RefreshReg$"],"sources":["/Users/girishkumarpatchikoru/Desktop/projecthci/geovizproject/frontend/src/components/MapView.js"],"sourcesContent":["// src/components/MapView.js\r\n\r\nimport React, { useEffect, useState, useCallback } from 'react';\r\n// Conditionally import Mapbox GL JS\r\nlet mapboxgl;\r\nif (typeof window !== 'undefined') {\r\n  mapboxgl = require('mapbox-gl');\r\n  mapboxgl.accessToken = MAPBOX_TOKEN; // Ensure this contains your Mapbox token\r\n}\r\nimport Papa from 'papaparse';\r\nimport { Bar, Pie, Doughnut, PolarArea } from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  RadialLinearScale,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  ArcElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\nimport 'react-circular-progressbar/dist/styles.css';\r\n\r\nimport styles from './styles'; // Ensure this file exists and is properly configured\r\nimport preprocessData from './preprocessData'; // Ensure this file exists and is properly configured\r\nimport { MAPBOX_TOKEN } from './constants'; // Ensure this file contains your Mapbox token\r\nimport blueMarkerIcon from '../assets/images/custom-marker-blue.png'; // Ensure these assets exist\r\nimport redMarkerIcon from '../assets/images/custom-marker-red.png';\r\nimport yellowMarkerIcon from '../assets/images/custom-marker-yellow.png'; // Add this icon for comparison markers\r\nimport './marker.css'; // Ensure this CSS file exists for marker styling\r\n\r\n// Register Chart.js components\r\nChartJS.register(\r\n  RadialLinearScale,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  ArcElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ChartDataLabels\r\n);\r\n\r\n// Custom Loading Bar Component\r\nconst LoadingBar = ({ progress }) => (\r\n  <div style={{ width: '100%', backgroundColor: '#ddd', height: '10px', borderRadius: '5px' }}>\r\n    <div\r\n      style={{\r\n        width: `${progress}%`,\r\n        height: '100%',\r\n        backgroundColor: '#28a745',\r\n        borderRadius: '5px',\r\n        transition: 'width 0.3s ease',\r\n      }}\r\n    ></div>\r\n  </div>\r\n);\r\n\r\nconst MapView = () => {\r\n  // State Variables\r\n  const [map, setMap] = useState(null);\r\n  const [geoData, setGeoData] = useState([]);\r\n  const [numericHeaders, setNumericHeaders] = useState([]);\r\n  const [stringHeaders, setStringHeaders] = useState([]);\r\n  const [selectedLocation, setSelectedLocation] = useState(null);\r\n  const [chartType, setChartType] = useState('Bar');\r\n  const [chartData, setChartData] = useState(null);\r\n  const [totalRows, setTotalRows] = useState(0);\r\n  const [totalColumns, setTotalColumns] = useState(0);\r\n  const [markers, setMarkers] = useState([]);\r\n  const [progress, setProgress] = useState({\r\n    upload: 0,\r\n    preprocess: 0,\r\n    geocode: 0,\r\n  });\r\n  const [progressMessages, setProgressMessages] = useState({\r\n    upload: '',\r\n    preprocess: '',\r\n    geocode: '',\r\n  });\r\n  const [stateList, setStateList] = useState([]);\r\n  const [selectedState1, setSelectedState1] = useState('');\r\n  const [selectedState2, setSelectedState2] = useState('');\r\n  const [markersAdded, setMarkersAdded] = useState(false);\r\n  const [compareMarkersEnabled, setCompareMarkersEnabled] = useState(false);\r\n  const [stateCoordinates, setStateCoordinates] = useState({});\r\n  const [dataHasLocation, setDataHasLocation] = useState(false);\r\n\r\n  // Global Min and Max for Normalization\r\n  const [globalMinMax, setGlobalMinMax] = useState({});\r\n\r\n  // Initialize Map only if location data is present\r\n  useEffect(() => {\r\n    if (dataHasLocation && typeof window !== 'undefined' && mapboxgl) {\r\n      const initializeMap = new mapboxgl.Map({\r\n        container: 'map',\r\n        style: 'mapbox://styles/mapbox/streets-v11',\r\n        center: [-98.5795, 39.8283],\r\n        zoom: 3,\r\n      });\r\n\r\n      const nav = new mapboxgl.NavigationControl();\r\n      initializeMap.addControl(nav, 'top-right');\r\n\r\n      setMap(initializeMap);\r\n\r\n      return () => initializeMap.remove();\r\n    }\r\n  }, [dataHasLocation]);\r\n  // Generate Chart Data for Selected Location\r\n  const generateChartData = useCallback(\r\n    (locationData) => {\r\n      if (locationData) {\r\n        const locationValues = numericHeaders.map((header) => ({\r\n          label: header,\r\n          value: parseFloat(locationData[header]) || 0,\r\n        }));\r\n\r\n        const normalizedValues = locationValues.map((item) => {\r\n          const { min, max } = globalMinMax[item.label] || { min: 0, max: 1 };\r\n          const normalizedValue =\r\n            max !== min ? ((item.value - min) / (max - min)) * 9.5 + 0.5 : 5;\r\n          return {\r\n            label: item.label,\r\n            normalizedValue: isFinite(normalizedValue) ? normalizedValue : 0.5,\r\n            actualValue: item.value,\r\n          };\r\n        });\r\n\r\n        setChartData({\r\n          labels: normalizedValues.map((item) => item.label),\r\n          datasets: [\r\n            {\r\n              label: locationData.state || 'Data',\r\n              data: normalizedValues.map((item) => item.normalizedValue),\r\n              actualValues: normalizedValues.map((item) => item.actualValue),\r\n              backgroundColor: [\r\n                'rgba(255, 99, 132, 0.5)',\r\n                'rgba(54, 162, 235, 0.5)',\r\n                'rgba(255, 206, 86, 0.5)',\r\n                'rgba(75, 192, 192, 0.5)',\r\n                'rgba(153, 102, 255, 0.5)',\r\n                'rgba(255, 159, 64, 0.5)',\r\n              ],\r\n              borderColor: [\r\n                'rgba(255, 99, 132, 1)',\r\n                'rgba(54, 162, 235, 1)',\r\n                'rgba(255, 206, 86, 1)',\r\n                'rgba(75, 192, 192, 1)',\r\n                'rgba(153, 102, 255, 1)',\r\n                'rgba(255, 159, 64, 1)',\r\n              ],\r\n              borderWidth: 1,\r\n            },\r\n          ],\r\n        });\r\n      }\r\n    },\r\n    [numericHeaders, globalMinMax]\r\n  );\r\n\r\n  // Data Generation\r\n  useEffect(() => {\r\n    if (selectedLocation) {\r\n      generateChartData(selectedLocation);\r\n    } else if (!dataHasLocation && geoData.length > 0) {\r\n      // For datasets without location data, use the first data row for chart\r\n      generateChartData(geoData[0]);\r\n    } else {\r\n      setChartData(null);\r\n    }\r\n  }, [selectedLocation, dataHasLocation, geoData, generateChartData]);\r\n\r\n  // Handle File Upload\r\n  const handleFileUpload = (event) => {\r\n    setProgress({\r\n      upload: 0,\r\n      preprocess: 0,\r\n      geocode: 0,\r\n    });\r\n    setProgressMessages({\r\n      upload: '',\r\n      preprocess: '',\r\n      geocode: '',\r\n    });\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      const fileExtension = file.name.split('.').pop().toLowerCase();\r\n\r\n      if (fileExtension === 'json') {\r\n        const reader = new FileReader();\r\n        reader.onload = async (e) => {\r\n          try {\r\n            const data = JSON.parse(e.target.result);\r\n            setProgress((prev) => ({ ...prev, upload: 100 }));\r\n            setProgressMessages((prev) => ({\r\n              ...prev,\r\n              upload: 'Dataset uploaded successfully.',\r\n            }));\r\n            await handlePreprocess(data);\r\n          } catch (error) {\r\n            console.error('Invalid JSON format:', error);\r\n            alert('Error: Uploaded file is not valid JSON.');\r\n          }\r\n        };\r\n        reader.readAsText(file);\r\n      } else if (fileExtension === 'csv') {\r\n        Papa.parse(file, {\r\n          header: true,\r\n          skipEmptyLines: true,\r\n          complete: async (results) => {\r\n            setProgress((prev) => ({ ...prev, upload: 100 }));\r\n            setProgressMessages((prev) => ({\r\n              ...prev,\r\n              upload: 'Dataset uploaded successfully.',\r\n            }));\r\n            await handlePreprocess(results.data);\r\n          },\r\n          error: (error) => {\r\n            console.error('CSV parsing error:', error);\r\n            alert('Error: Failed to parse CSV file.');\r\n          },\r\n        });\r\n      } else {\r\n        alert('Please upload a valid JSON or CSV file.');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Handle Preprocessing\r\n  const handlePreprocess = useCallback(\r\n    async (rawData) => {\r\n      setProgress((prev) => ({ ...prev, preprocess: 0 }));\r\n\r\n      const cleanRawData = rawData.filter(\r\n        (item) => item !== null && item !== undefined && Object.keys(item).length > 0\r\n      );\r\n\r\n      const processedData = await preprocessData(cleanRawData, setProgress);\r\n\r\n      if (!processedData || processedData.length === 0) {\r\n        alert('No data available after filtering.');\r\n        return;\r\n      }\r\n\r\n      setProgress((prev) => ({ ...prev, preprocess: 50 }));\r\n\r\n      // Check if data has location\r\n      const dataContainsLatLng = processedData.some(\r\n        (item) => item.latitude && item.longitude\r\n      );\r\n\r\n      setDataHasLocation(dataContainsLatLng);\r\n\r\n      // Proceed with data processing, aggregation, and setting state variables\r\n      // Identify numeric and string headers\r\n      if (processedData.length > 0) {\r\n        const headers = Object.keys(processedData[0]);\r\n        const numeric = [];\r\n        const strings = [];\r\n\r\n        headers.forEach((header) => {\r\n          if (\r\n            [\r\n              'latitude',\r\n              'longitude',\r\n              'GeoLocation',\r\n              'locationID',\r\n              'count',\r\n              'state',\r\n            ].includes(header)\r\n          )\r\n            return;\r\n\r\n          const isNumeric = processedData.every((item) => {\r\n            const value = parseFloat(item[header]);\r\n            return !isNaN(value);\r\n          });\r\n          if (isNumeric) {\r\n            numeric.push(header);\r\n          } else {\r\n            strings.push(header);\r\n          }\r\n        });\r\n\r\n        // Calculate global min and max for each numeric field\r\n        const globalMinMaxCalc = {};\r\n        numeric.forEach((header) => {\r\n          const values = processedData.map((item) => parseFloat(item[header]));\r\n          globalMinMaxCalc[header] = {\r\n            min: Math.min(...values),\r\n            max: Math.max(...values),\r\n          };\r\n        });\r\n        setGlobalMinMax(globalMinMaxCalc);\r\n\r\n        setNumericHeaders(numeric);\r\n        setStringHeaders(strings);\r\n\r\n        setTotalRows(processedData.length);\r\n        setTotalColumns(headers.length);\r\n\r\n        setGeoData(processedData);\r\n\r\n        setProgress((prev) => ({ ...prev, preprocess: 100 }));\r\n\r\n        // Reset markersAdded state when new data is uploaded\r\n        setMarkersAdded(false);\r\n      } else {\r\n        alert('No data available after filtering.');\r\n      }\r\n    },\r\n    [setProgress]\r\n  );\r\n\r\n  // Monitor Progress Updates\r\n  useEffect(() => {\r\n    if (progress.preprocess === 100) {\r\n      setProgressMessages((prev) => ({\r\n        ...prev,\r\n        preprocess: 'Preprocessing completed.',\r\n      }));\r\n    }\r\n  }, [progress.preprocess]);\r\n\r\n  // Chart Options\r\n  const chartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    scales:\r\n      chartType === 'Bar'\r\n        ? {\r\n            y: {\r\n              beginAtZero: true,\r\n              min: 0.5,\r\n              max: 10,\r\n            },\r\n          }\r\n        : {},\r\n    plugins: {\r\n      legend: {\r\n        position: 'top',\r\n      },\r\n      datalabels: {\r\n        display: true,\r\n        color: '#000',\r\n        align: 'center',\r\n        anchor: 'center',\r\n        formatter: function (value, context) {\r\n          const dataset = context.chart.data.datasets[context.datasetIndex];\r\n          if (dataset.actualValues) {\r\n            const actualValue = dataset.actualValues[context.dataIndex];\r\n            if (typeof actualValue === 'number' && isFinite(actualValue)) {\r\n              return actualValue.toFixed(2);\r\n            } else {\r\n              return '';\r\n            }\r\n          } else {\r\n            if (typeof value === 'number' && isFinite(value)) {\r\n              return value.toFixed(2);\r\n            } else {\r\n              return '';\r\n            }\r\n          }\r\n        },\r\n      },\r\n      tooltip: {\r\n        callbacks: {\r\n          label: function (context) {\r\n            const dataset = context.dataset;\r\n            const actualValue = dataset.actualValues\r\n              ? dataset.actualValues[context.dataIndex]\r\n              : context.parsed.y;\r\n            if (typeof actualValue === 'number' && isFinite(actualValue)) {\r\n              return `${context.label}: ${actualValue.toFixed(2)}`;\r\n            } else {\r\n              return `${context.label}: ${actualValue || ''}`;\r\n            }\r\n          },\r\n        },\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      {/* Map Container */}\r\n      {dataHasLocation && (\r\n        <div id=\"map\" style={styles.map}></div>\r\n      )}\r\n\r\n      {/* Sidebar */}\r\n      <div style={styles.sidebar}>\r\n        {/* Combined Controls Box */}\r\n        <div style={styles.combinedBox}>\r\n          {/* Progress Indicators */}\r\n          <div style={styles.progressContainer}>\r\n            <div style={styles.progressItem}>\r\n              <LoadingBar progress={progress.upload} />\r\n              <div style={styles.progressMessage}>{progressMessages.upload}</div>\r\n            </div>\r\n            <div style={styles.progressItem}>\r\n              <LoadingBar progress={progress.preprocess} />\r\n              <div style={styles.progressMessage}>{progressMessages.preprocess}</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Upload Data Section */}\r\n          <div style={styles.section}>\r\n            <h3 style={styles.sectionTitle}>Upload Data</h3>\r\n            <input\r\n              type=\"file\"\r\n              accept=\".json, .csv\"\r\n              onChange={handleFileUpload}\r\n              style={styles.fileInput}\r\n            />\r\n          </div>\r\n\r\n          {/* Mark Locations Button */}\r\n          {dataHasLocation && geoData.length > 0 && !markersAdded && (\r\n            <div style={styles.section}>\r\n              <button\r\n                onClick={renderMarkers}\r\n                style={{\r\n                  ...styles.chartButton,\r\n                  backgroundColor: '#17a2b8',\r\n                  width: '100%',\r\n                }}\r\n              >\r\n                Mark Locations on Map\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Dataset Details Section */}\r\n          <div style={styles.section}>\r\n            <h3 style={styles.sectionTitle}>Dataset Details</h3>\r\n            {geoData.length > 0 ? (\r\n              <div style={styles.datasetDetails}>\r\n                <p>\r\n                  <strong>Rows:</strong> {totalRows}\r\n                </p>\r\n                <p>\r\n                  <strong>Columns:</strong> {totalColumns}\r\n                </p>\r\n                <p>\r\n                  <strong>Numeric Columns:</strong> {numericHeaders.join(', ')}\r\n                </p>\r\n                <p>\r\n                  <strong>String Columns:</strong> {stringHeaders.join(', ')}\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <p>No dataset uploaded yet.</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Location Comparison Section */}\r\n          {dataHasLocation && (\r\n            <div style={styles.section}>\r\n              <h3 style={styles.sectionTitle}>Compare Two Locations</h3>\r\n              <div style={styles.inputGroup}>\r\n                <label style={styles.inputLabel}>Location 1:</label>\r\n                <select\r\n                  value={selectedState1}\r\n                  onChange={(e) => setSelectedState1(e.target.value)}\r\n                  style={styles.selectDropdown}\r\n                  disabled={stateList.length === 0}\r\n                >\r\n                  <option value=\"\">Select Location</option>\r\n                  {stateList.map((state) => (\r\n                    <option key={state} value={state}>\r\n                      {state}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div style={styles.inputGroup}>\r\n                <label style={styles.inputLabel}>Location 2:</label>\r\n                <select\r\n                  value={selectedState2}\r\n                  onChange={(e) => setSelectedState2(e.target.value)}\r\n                  style={styles.selectDropdown}\r\n                  disabled={stateList.length === 0}\r\n                >\r\n                  <option value=\"\">Select Location</option>\r\n                  {stateList.map((state) => (\r\n                    <option key={state} value={state}>\r\n                      {state}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <button\r\n                onClick={handleStateSelection}\r\n                disabled={!selectedState1 || !selectedState2}\r\n                style={{\r\n                  ...styles.chartButton,\r\n                  backgroundColor:\r\n                    selectedState1 && selectedState2 ? '#28a745' : '#6c757d',\r\n                }}\r\n              >\r\n                Compare\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Chart Type Selection Section */}\r\n          <div style={styles.section}>\r\n            <h3 style={styles.sectionTitle}>Select Chart Type</h3>\r\n            <div style={styles.chartOptions}>\r\n              <button\r\n                onClick={() => setChartType('Bar')}\r\n                style={{\r\n                  ...styles.chartButton,\r\n                  ...(chartType === 'Bar' ? styles.chartButtonActive : {}),\r\n                }}\r\n              >\r\n                Bar Chart\r\n              </button>\r\n              <button\r\n                onClick={() => setChartType('Pie')}\r\n                style={{\r\n                  ...styles.chartButton,\r\n                  ...(chartType === 'Pie' ? styles.chartButtonActive : {}),\r\n                }}\r\n              >\r\n                Pie Chart\r\n              </button>\r\n              <button\r\n                onClick={() => setChartType('Doughnut')}\r\n                style={{\r\n                  ...styles.chartButton,\r\n                  ...(chartType === 'Doughnut' ? styles.chartButtonActive : {}),\r\n                }}\r\n              >\r\n                Doughnut Chart\r\n              </button>\r\n              <button\r\n                onClick={() => setChartType('PolarArea')}\r\n                style={{\r\n                  ...styles.chartButton,\r\n                  ...(chartType === 'PolarArea' ? styles.chartButtonActive : {}),\r\n                }}\r\n              >\r\n                PolarArea Chart\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Chart Display Section */}\r\n        {chartData && (\r\n          <div style={styles.chartContainer}>\r\n            <div style={styles.chartWrapper}>\r\n              <div style={styles.chartContent}>\r\n                <h3>{chartType} Chart</h3>\r\n                {chartType === 'Bar' && <Bar data={chartData} options={chartOptions} />}\r\n                {chartType === 'Pie' && <Pie data={chartData} options={chartOptions} />}\r\n                {chartType === 'Doughnut' && (\r\n                  <Doughnut data={chartData} options={chartOptions} />\r\n                )}\r\n                {chartType === 'PolarArea' && (\r\n                  <PolarArea data={chartData} options={chartOptions} />\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}